# Puerto donde correrá la API
PORT=4000

# URI de MongoDB (puede apuntar a atlas u otra instancia)
# Ejemplos:
# mongodb://127.0.0.1:27017/clouddocs
# mongodb+srv://usuario:password@cluster0.xxxxx.mongodb.net/clouddocs?retryWrites=true&w=majority
#Se debe usar un usuario con permisos limitados para mayor seguridad (only CRUD on clouddocs database)
MONGO_URI=mongodb://127.0.0.1:27017/clouddocs

# Seguridad / Auth
# Clave secreta para firmar JWT (cambiar en producción)
JWT_SECRET=change_me_dev

# Tiempo de expiración del token (formatos: 60, 10m, 1h, 1d)
JWT_EXPIRES_IN=1d

# Rondas de hashing bcrypt (cuidado en servidores con pocos recursos)
BCRYPT_SALT_ROUNDS=10

# Clave secreta para protección CSRF (cambiar en producción)
# Generar con: openssl rand -base64 32
CSRF_SECRET=change_me_csrf_secret_in_production

# Upload config (max size in bytes, allowed mime types comma separated)
MAX_UPLOAD_SIZE=5242880
ALLOWED_MIME_TYPES=application/pdf,image/png,image/jpeg,text/plain

# Environment (development, production, test)
NODE_ENV=development

# CORS Configuration
# Comma-separated list of allowed origins for CORS
# Development: Automatically allows localhost origins
# Production: MUST specify allowed origins explicitly
# Example: https://example.com,https://www.example.com,https://app.example.com
ALLOWED_ORIGINS=http://localhost:3000

# Allow requests without origin header in production (server-to-server)
# Set to 'true' only if needed for API-to-API communication
ALLOW_NO_ORIGIN=false

# Configuración de Email (Mailtrap, SMTP, etc)
EMAIL_HOST=smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_USER=your_mailtrap_user
EMAIL_PASS=your_mailtrap_pass
# Flag de prueba: permite certificados TLS no válidos (solo testing). PONER A false EN PRODUCCIÓN
EMAIL_ALLOW_INSECURE_TLS=true
# Indica si la conexión SMTP usa TLS implícito (puerto 465). Para 587 dejar en false
EMAIL_SECURE=false

# Enviar correo de confirmación al registrar usuario (true/false)
SEND_CONFIRMATION_EMAIL=true

# URL base para la confirmación de cuenta por email
CONFIRMATION_URL_BASE=http://localhost:4000

# Frontend URL base para redirección tras confirmación de cuenta
CONFIRMATION_FRONTEND_URL=http://localhost:5173