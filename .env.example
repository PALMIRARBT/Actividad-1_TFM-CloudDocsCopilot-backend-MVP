# =============================================================================
# CloudDocs API Service - Environment Configuration
# =============================================================================
# Copy this file to .env for local development
# cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=4000
NODE_ENV=development

# -----------------------------------------------------------------------------
# MongoDB Configuration
# -----------------------------------------------------------------------------
# Local development with Docker:
MONGO_URI=mongodb://localhost:27017/clouddocs

# With authentication (production):
# MONGO_URI=mongodb://user:password@host:27017/clouddocs?authSource=admin

# -----------------------------------------------------------------------------
# Elasticsearch Configuration (Optional)
# -----------------------------------------------------------------------------
# Enable/disable Elasticsearch (search works without it, just limited)
ELASTICSEARCH_ENABLED=false

# Elasticsearch connection
ELASTICSEARCH_NODE=http://localhost:9200

# With authentication (production):
# ELASTICSEARCH_USERNAME=elastic
# ELASTICSEARCH_PASSWORD=changeme

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# JWT secret - CHANGE IN PRODUCTION!
JWT_SECRET=change_me_in_production_use_strong_random_string

# JWT token expiration
JWT_EXPIRES_IN=1d

# Password hashing rounds (higher = more secure but slower)
BCRYPT_SALT_ROUNDS=10

# CSRF secret - CHANGE IN PRODUCTION!
CSRF_SECRET=change_me_csrf_secret_in_production

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
# Allowed origins (comma-separated for multiple)
# Development: localhost ports are auto-allowed
# Production: set explicit origins
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Allow requests without Origin header (for server-to-server, mobile apps)
ALLOW_NO_ORIGIN=false

# -----------------------------------------------------------------------------
# File Upload Configuration
# -----------------------------------------------------------------------------
# Maximum upload size in bytes (5MB default)
MAX_UPLOAD_SIZE=5242880

# Allowed MIME types (comma-separated)
ALLOWED_MIME_TYPES=application/pdf,image/png,image/jpeg,image/gif,text/plain,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# -----------------------------------------------------------------------------
# Email Configuration (Optional - for confirmation emails)
# -----------------------------------------------------------------------------
# Using Mailtrap for development:
EMAIL_HOST=smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_USER=your_mailtrap_user
EMAIL_PASS=your_mailtrap_pass
EMAIL_ALLOW_INSECURE_TLS=true
EMAIL_SECURE=false

# Enable/disable confirmation emails
SEND_CONFIRMATION_EMAIL=false

# URLs for email links
CONFIRMATION_URL_BASE=http://localhost:4000
CONFIRMATION_FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# AI & Vector Search Configuration
# -----------------------------------------------------------------------------
# MongoDB Atlas connection for vector search (embeddings)
# This is separate from the local MongoDB used for main data
MONGO_ATLAS_URI=mongodb+srv://user:password@cluster.mongodb.net/cloud_docs

# OpenAI API key for embeddings and chat completions
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
